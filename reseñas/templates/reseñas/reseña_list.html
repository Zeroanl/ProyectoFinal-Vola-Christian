{% extends "ProyectoFinalApp/base.html" %}

{% load static %}
{% load bootstrap5 %}

{% block content %}

<div class="container" style="color:white">
    
  
    {% if user.is_authenticated %}
     <div><p></p></div>
     <div style="text-align:justify; margin-right: 100px; color: white ; font-family:Lucida Sans Unicode;">
      <a href="{% url 'NuevaReseñas' %}" class="btn btn-info" style="color:white; font-family:Lucida Sans Unicode; width: 200px; text-align: center;">Crear Reseña</a>
     </div>
    <div><p></p></div>
    {% else %}
     <div><p></p></div>
     <div class="alert alert-success text-center p-1" style=" width: 180px; margin: 5px 5px;  text-align: center; font-family: Helvetica;"> <strong>Login para Realizar / Editar Reseñas</strong></div>
     <div><p></p></div>
    {% endif %}
    
 
<div class="row">
    <div class="col">
        <table class="zui-table" style="background-color:rgb(0, 42, 43); margin-bottom: 50px;">
            <thead>
                <th scope="col">Evaluacion</th>
                <th scope="col">Titulo</th>
                <th scope="col">Producto</th>
                <th scope="col">Autor</th>
                <th scope="col">Acciones</th>
            </thead>
            {% for reseña in object_list %}
            <tbody style="text-align:center;">
                <tr>
                    
                    <td> 
                        {% if reseña.rating == 5 %}
                         <img  height="40px"   src="{% static 'ProyectoFinalApp/img/5.png' %}">
                        {% elif reseña.rating == 4.5 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/4-5.png' %}">
                        {% elif reseña.rating == 4 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/4.png' %}">
                        {% elif reseña.rating == 3.5 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/3-5.png' %}">
                        {% elif reseña.rating == 3 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/3.png' %}">
                        {% elif reseña.rating == 2.5 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/2-5.png' %}">
                        {% elif reseña.rating == 2 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/2.png' %}">
                        {% elif reseña.rating == 1.5 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/1-5.png' %}">
                        {% elif reseña.rating == 1 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/1.png' %}">
                        {% elif reseña.rating == 0.5 %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/0-5.png' %}">
                        {% else %}
                        <img  height="40px"   src="{% static 'ProyectoFinalApp/img/0.png' %}">
                        {% endif %}
                    </td>
                    <td> {{reseña.titulo}} </td>
                    <td> {{reseña.producto}} </td>
                    <td> {{reseña.autor}} </td>
                    <td>
                      {% if user.is_authenticated %}
                      {% if reseña.autor == request.user %}
                        <a href="{% url 'DeleteReseñas' reseña.id %}" class="btn btn-danger" style="color:white; font-family:Lucida Sans Unicode; width: 85px; text-align: center; font-size:15px;">Borrar</a>
                        <a href="{% url 'EditReseñas' reseña.id %}" class="btn btn-warning" style="color:white; font-family:Lucida Sans Unicode; width: 85px; text-align:  center; font-size:15px;">Edit</a>
                      {% endif %}
                      {% endif %}
                      <a href="{% url 'DetalleReseñas' reseña.id %}" class="btn btn-primary" style="color:white; font-family:Lucida Sans Unicode; width: 85px; text-align: center;font-size:15px;">Detalles</a>
                      

                    </td>
                </tr>
            </tbody>
            {% endfor %}
        </table>
    </div>
</div>
</div>


{% endblock %}
